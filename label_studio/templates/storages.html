{% raw %}
<div class="ui small modal" id="storage-settings-dialog">
  <i class="close icon"></i>
  <div class="header">Source storage settings</div>
  <div class="content">
    <form class="ui form" id="source-storage-form">
      <input hidden name="storage_for" value="source">

      <div class="ui field">
        <label>Storage type</label>
        <select class="ui dropdown" name="type">
          <option v-for="item in project.available_storages">{{ item }}</option>
        </select>
      </div>

      <div class="ui divider hidden"></div>

      <div class="ui field" :class="{checkbox: field.type=='BooleanField'}" v-for="field in storage_settings">
        <label>{{ field.description }}</label>
        <input :type="field.type=='BooleanField' ? 'checkbox': 'text'" :placeholder="field.name" v-model="field.data">
      </div>

    </form>
  </div>

  <div class="actions">
    <button class="ui button positive" @click="saveStorageSettings()">Save</button>
    <button class="ui button basic cancel">Close</button>
  </div>
</div>

{% endraw %}

{#
{% with errors = get_flashed_messages(category_filter=["error"]) %}
  {% if errors %}
    {% for error in errors %}
      <div class="ui negative message">{{ error }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

<form class="ui form" method="POST" action="">
    {{ form.csrf_token }}
  {% for field in form %}
    {% if field.type == 'BooleanField' %}
      <div class="inline field"><div class="ui toggle checkbox">{{ field.label }} {{ field }}</div></div>
    {% elif field.name == 'csrf_token' %}
    {% else %}
      <div class="inline field">{{ field.label }} {{ field }}</div>
    {% endif %}
  {% endfor %}

  <button class="ui button" type="submit">Submit</button>
</form>

<script>
  $('.ui.toggle.checkbox').checkbox();
</script>
#}